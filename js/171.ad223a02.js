"use strict";(self["webpackChunkmrpotato"]=self["webpackChunkmrpotato"]||[]).push([[171],{7171:function(t,e,s){s.r(e),s.d(e,{default:function(){return H}});var r=s(3396),a=s(7139);const l={class:"card mb-5"},c=(0,r._)("div",{class:"card-header text-center bg-warning"},[(0,r._)("h5",{class:"card-title my-2"},"訂單資訊")],-1),o={class:"card-body"},d={class:"table-responsive"},n={class:"table align-middle text-nowrap"},u=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{colspan:"2",scope:"col"},"商品名稱"),(0,r._)("th",{scope:"col",class:"text-end",width:"100"},"數量"),(0,r._)("th",{scope:"col",class:"text-end"},"總價")])],-1),i={scope:"row"},p=["src","alt"],_={class:"text-start"},h={class:"text-end"},m={class:"text-end"},w=(0,r._)("th",{colspan:"3",class:"text-end"},"總計",-1),b={class:"text-end"},g={class:"card"},x=(0,r._)("div",{class:"card-header text-center bg-warning"},[(0,r._)("h5",{class:"card-title my-2"},"顧客資訊")],-1),v={class:"card-body"},y={class:"table-responsive"},$={class:"table align-middle text-nowrap"},k=(0,r._)("th",{scope:"row",class:"text-center",width:"50%"},"姓名",-1),f=(0,r._)("th",{scope:"row",class:"text-center"},"聯絡電話",-1),z=(0,r._)("th",{scope:"row",class:"text-center"},"聯絡信箱",-1),C=(0,r._)("th",{scope:"row",class:"text-center"},"送餐地址",-1),M=(0,r._)("th",{scope:"row",class:"text-center"},"結帳方式",-1),D=(0,r._)("th",{scope:"row",class:"text-center"},"特殊備註",-1),I={class:"text-end mt-3"};function L(t,e,s,L,O,U){const q=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",l,[c,(0,r._)("div",o,[(0,r._)("div",d,[(0,r._)("table",n,[u,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(O.order.products,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",i,[(0,r._)("img",{src:e.product.imageUrl,alt:e.product.title,class:"checkouts-img"},null,8,p)]),(0,r._)("td",_,(0,a.zw)(e.product.title),1),(0,r._)("td",h,(0,a.zw)(e.qty),1),(0,r._)("td",m,(0,a.zw)(t.$filters.currency(e.final_total)),1)])))),128))]),(0,r._)("tfoot",null,[(0,r._)("tr",null,[w,(0,r._)("th",b,(0,a.zw)(t.$filters.currency(O.order.total)),1)])])])])])]),(0,r._)("div",g,[x,(0,r._)("div",v,[(0,r._)("div",y,[(0,r._)("table",$,[(0,r._)("tbody",null,[(0,r._)("tr",null,[k,(0,r._)("td",null,(0,a.zw)(O.order.user.name),1)]),(0,r._)("tr",null,[f,(0,r._)("td",null,(0,a.zw)(O.order.user.tel),1)]),(0,r._)("tr",null,[z,(0,r._)("td",null,(0,a.zw)(O.order.user.email),1)]),(0,r._)("tr",null,[C,(0,r._)("td",null,(0,a.zw)(O.order.user.address),1)]),(0,r._)("tr",null,[M,(0,r._)("td",null,(0,a.zw)(O.order.user.payment),1)]),(0,r._)("tr",null,[D,(0,r._)("td",null,(0,a.zw)(O.order.message),1)])])])])])]),(0,r._)("div",I,[(0,r.Wm)(q,{to:"/",class:"btn btn-outline-secondary"},{default:(0,r.w5)((()=>[(0,r.Uk)("取消訂單")])),_:1}),(0,r._)("button",{onClick:e[0]||(e[0]=(...t)=>U.checkouts&&U.checkouts(...t)),type:"button",class:"btn btn-outline-primary white-text-btn ms-2"}," 確認付款 ")])])}s(7658);var O={name:"CustomerCheckouts",data(){return{order:{user:{}}}},methods:{getOrders(){const t=this,e=t.$route.params.orderId,s=`https://vue-course-api.hexschool.io/api/tommy726/order/${e}`;t.$store.dispatch("updateLoading",!0),t.$http.get(s).then((e=>{e.data.order?t.order=e.data.order:t.$router.push("/"),t.$store.dispatch("updateLoading",!1)})).catch((()=>{t.$store.dispatch("alertModules/updateMessage",{message:"資料取得失敗，請確認api是否正確",status:!1})}))},checkouts(){const t=this,e=t.$route.params.orderId,s=`https://vue-course-api.hexschool.io/api/tommy726/pay/${e}`;t.$http.post(s).then((e=>{e.data.success?t.$router.push("/order_complete"):t.$router.push("/")})).catch((()=>{t.$store.dispatch("alertModules/updateMessage",{message:"資料取得失敗，請確認api是否正確",status:!1})}))}},created(){this.getOrders()}},U=s(89);const q=(0,U.Z)(O,[["render",L]]);var H=q}}]);
//# sourceMappingURL=171.ad223a02.js.map