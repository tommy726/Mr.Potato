{"version":3,"file":"js/963.8fbcd6ea.js","mappings":"6LACOA,MAAM,2B,GACJA,MAAM,8B,GACJA,MAAM,mC,GACJA,MAAM,Q,GACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,sCAAoC,EAC7CC,EAAAA,EAAAA,GAA6B,MAAzBD,MAAM,WAAU,UAAI,G,GAErBA,MAAM,iB,8BAiByCA,MAAM,qB,kBAerDA,MAAM,8C,iHAvCnBE,EAAAA,EAAAA,IA6CM,MA7CNC,EA6CM,EA5CJF,EAAAA,EAAAA,GA2CM,MA3CNG,EA2CM,EA1CJH,EAAAA,EAAAA,GAyCM,MAzCNI,EAyCM,EAxCJJ,EAAAA,EAAAA,GAuCM,MAvCNK,EAuCM,CAtCJC,GAGAN,EAAAA,EAAAA,GA+BM,MA/BNO,EA+BM,EA9BJC,EAAAA,EAAAA,IA6BOC,EAAA,CA7BAC,SAAQC,EAAAC,QAAM,C,kBACd,EAD0BC,UAAI,gBACnCZ,EAAAA,EAAAA,IAoBMa,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IApBsCC,EAAAC,MAAI,EAAlCC,OAAMC,QAAOC,QAAOC,Y,WAAlCpB,EAAAA,EAAAA,IAoBM,OApB6CqB,IAAKJ,EAAMnB,MAAM,Q,EAClEC,EAAAA,EAAAA,GAkBQ,SAlBAuB,IAAKL,EAAMnB,MAAM,oB,mBACnBoB,GAAQ,IACZ,IAAAX,EAAAA,EAAAA,IAeQgB,EAAA,CAdLC,GAAIP,EACJA,KAAMA,EACNE,MAAOA,G,mBAGR,EAFUM,QAAOC,eAAcd,UAAI,EAEnCb,EAAAA,EAAAA,GAKE,SALF4B,EAAAA,EAAAA,IACUF,EAAK,CACZL,KAAMA,EACPtB,MAAK,CAAC,eAAc,YACEc,EAAKgB,MAAK,aAAgBF,M,WAEtCA,GAAgBd,EAAKiB,UAAO,WAAxC7B,EAAAA,EAAAA,IAEO,OAFP8B,GAEOC,EAAAA,EAAAA,IADFL,GAAY,uB,mDAKvB3B,EAAAA,EAAAA,GAMS,UALNiC,UAAWpB,EAAKgB,MACjBR,KAAK,SACLtB,MAAM,iDACP,WAED,EAAAmC,M,wBAGJlC,EAAAA,EAAAA,GAEM,MAFNmC,EAEM,EADJ3B,EAAAA,EAAAA,IAA8C4B,EAAA,CAAjCC,GAAG,WAAS,C,kBAAC,IAAM,UAAN,a,4BAStC,GACEnB,KAAM,YACNoB,OACE,MAAO,CACLrB,KAAM,CACJ,CACEE,MAAO,KACPD,KAAM,WACNqB,GAAI,QACJnB,MAAO,kBAET,CACED,MAAO,KACPD,KAAM,WACNqB,GAAI,QACJlB,KAAM,WACND,MAAO,aAIf,EACAoB,QAAS,CACP5B,OAAO6B,GACL,MAAMC,EAAKC,KACLC,EAAO,mDACbF,EAAGG,MAAMC,KAAKF,EAAKH,GAChBM,MAAMC,IACDA,EAASV,KAAKW,SAChBP,EAAGQ,eAAeF,EAASV,KAAKa,MAAOH,EAASV,KAAKc,SACrDV,EAAGW,QAAQC,KAAK,oBAEhBZ,EAAGa,OAAOC,SAAS,6BAA8B,CAC/CC,QAAST,EAASV,KAAKmB,QACvBC,OAAQV,EAASV,KAAKW,SAE1B,IAEDU,OAAM,KACLjB,EAAGa,OAAOC,SAAS,6BAA8B,CAC/CC,QAAS,oBACTC,QAAQ,GACR,GAER,EACAR,eAAeC,EAAOC,GACpBQ,SAASC,OAAU,YAAWV,aAAiB,IAAIW,KAAKV,KAC1D,I,QC3FJ,MAAMW,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://mrpotato/./src/views/customer/LoginPage.vue","webpack://mrpotato/./src/views/customer/LoginPage.vue?cd98"],"sourcesContent":["<template>\n  <div class=\"container my-8 py-xxl-8\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-xxl-3 col-lg-4 col-sm-7 col\">\n        <div class=\"card\">\n          <div class=\"card-header text-center bg-warning\">\n            <h2 class=\"h3 mb-0\">會員登入</h2>\n          </div>\n          <div class=\"card-body p-5\">\n            <Form @submit=\"signIn\" v-slot=\"{ meta }\">\n              <div v-for=\"{ name, label, rules, type } in user\" :key=\"name\" class=\"mb-3\">\n                <label :for=\"name\" class=\"form-label w-100\"\n                  >{{ label }}\n                  <Field\n                    :id=\"name\"\n                    :name=\"name\"\n                    :rules=\"rules\"\n                    v-slot=\"{ field, errorMessage, meta }\"\n                  >\n                    <input\n                      v-bind=\"field\"\n                      :type=\"type\"\n                      class=\"form-control\"\n                      :class=\"{ 'is-valid': meta.valid, 'is-invalid': errorMessage }\"\n                    />\n                    <span v-if=\"errorMessage && meta.touched\" class=\"text-danger fa-sm\">\n                      {{ errorMessage }}\n                    </span>\n                  </Field>\n                </label>\n              </div>\n              <button\n                :disabled=\"!meta.valid\"\n                type=\"submit\"\n                class=\"btn w-100 btn-primary text-white mt-3 mt-md-5\"\n              >\n                Submit\n              </button>\n            </Form>\n          </div>\n          <div class=\"card-footer text-muted text-end bg-warning\">\n            <router-link to=\"/signup\">還沒有帳號？</router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoginPage',\n  data() {\n    return {\n      user: [\n        {\n          label: '信箱',\n          name: 'username',\n          as: 'input',\n          rules: 'required|email',\n        },\n        {\n          label: '密碼',\n          name: 'password',\n          as: 'input',\n          type: 'password',\n          rules: 'required',\n        },\n      ],\n    };\n  },\n  methods: {\n    signIn(values) {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}/admin/signin`;\n      vm.$http.post(api, values)\n        .then((response) => {\n          if (response.data.success) {\n            vm.setTokenCookie(response.data.token, response.data.expired);\n            vm.$router.push('/admin/products');\n          } else {\n            vm.$store.dispatch('alertModules/updateMessage', {\n              message: response.data.message,\n              status: response.data.success,\n            });\n          }\n        })\n        .catch(() => {\n          vm.$store.dispatch('alertModules/updateMessage', {\n            message: '資料取得失敗，請確認api是否正確',\n            status: false,\n          });\n        });\n    },\n    setTokenCookie(token, expired) {\n      document.cookie = `hexToken=${token};expires=${new Date(expired)};`;\n    },\n  },\n};\n</script>\n","import { render } from \"./LoginPage.vue?vue&type=template&id=048b3fe4\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Tommy\\\\Desktop\\\\作品集\\\\mrpotato\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_Form","onSubmit","$options","signIn","meta","_Fragment","_renderList","$data","user","name","label","rules","type","key","for","_component_Field","id","field","errorMessage","_mergeProps","valid","touched","_hoisted_9","_toDisplayString","disabled","_hoisted_10","_hoisted_11","_component_router_link","to","data","as","methods","values","vm","this","api","$http","post","then","response","success","setTokenCookie","token","expired","$router","push","$store","dispatch","message","status","catch","document","cookie","Date","__exports__","render"],"sourceRoot":""}